<!DOCTYPE html>
<html>
  <head>
    <title>How to Use the Internet Printing Protocol</title>
    <meta name="version" content="2018.0426">
    <meta name="author" content="Michael R Sweet, Peter Zehler">
    <meta name="copyright" content="Copyright © 2017-2018 by The Printer Working Group">
    <style><!--
body {
  font-family: sans-serif;
  font-size: 18px;
  line-height: 1.5em;
  margin: 54pt 36pt;
}
h1 {
  border-top: solid 2px black;
  line-height: 1.5em;
  margin-top: 4em;
  padding-top: 4em;
}
h1.title:first-child {
  border-top: none;
}
.title {
  text-align: center;
}
.toc {
  list-style-type: none;
}
a {
  font: inherit;
}
blockquote {
  background: #f8f8f8;
  border-left: solid 2px #666;
  margin: 1em 0;
  padding: 10px 20px;
}
pre, li code, p code {
  font-family: monospace;
}
pre {
  background: #f8f8f8;
  border-left: solid 2px #666;
  font-size: 14px;
  line-height: 120%;
  padding: 10px 20px;
  white-space: pre-wrap;
}
pre code {
  display: block;
  margin-left: 3em;
  text-indent: -3em;
}

li code, p code {
  padding: 2px 5px;
}
table {
  border-collapse: collapse;
  border-spacing: 0;
}
td {
  border: solid 1px #666;
  padding: 5px 10px;
  vertical-align: top;
}
td.left {
  text-align: left;
}
td.center {
  text-align: center;
}
td.right {
  text-align: right;
}
th {
  border-bottom: solid 2px #000;
  padding: 1px 5px;
  text-align: center;
  vertical-align: bottom;
}
tr:nth-child(odd) td {
  background: #f8f8f8;
}

@page {
  margin: 72pt 54pt;
  @top-center { content: "How to Use the Internet Printing Protocol" }
  @bottom-left { content: "Copyright © 2017-2018 by The Printer Working Group"; }
  @bottom-right { content: "Page " counter(page) " of " counter(pages); }
}

@media print {
  body {
    margin: 0;
  }

  h1 {
    border-top: none;
    margin-top: 0;
    padding-top: 0;
    page-break-before: left;
  }
  h1.title:first-child {
    padding-top: 10em;
    page-break-before: avoid;
  }
  p {
    orphans: 1;
  }
  pre {
    page-break-inside: avoid;
  }
}
--></style>
  </head>
  <body>
    <h1 class="title">How to Use the Internet Printing Protocol</h1>
    <p class="title">Version 2018.0426</p>
    <p class="title">by Michael R Sweet, Peter Zehler</p>
    <p class="title">Copyright © 2017-2018 by The Printer Working Group</p>
    <h1 class="title">Table of Contents</h1>
    <ul>
      <li class="toc"><a href="#chapter-1-introduction">Chapter 1: Introduction</a><ul>
        <li class="toc"><a href="#what-is-ipp">What is IPP?</a></li>
        <li class="toc"><a href="#ipp-overview">IPP Overview</a></li>
        <li class="toc"><a href="#ipp-message-encoding">IPP Message Encoding</a></li>
        <li class="toc"><a href="#operations">Operations</a></li>
        <li class="toc"><a href="#summary">Summary</a><ul>
        </ul></li>
      </ul></li>
      <li class="toc"><a href="#chapter-2-printers">Chapter 2: Printers</a><ul>
        <li class="toc"><a href="#what-are-printers">What are Printers?</a></li>
        <li class="toc"><a href="#querying-the-printer-attributes">Querying the Printer Attributes</a></li>
        <li class="toc"><a href="#summary">Summary</a><ul>
        </ul></li>
      </ul></li>
      <li class="toc"><a href="#chapter-3-print-jobs">Chapter 3: Print Jobs</a><ul>
        <li class="toc"><a href="#what-are-print-jobs">What are Print Jobs?</a></li>
        <li class="toc"><a href="#documents">Documents</a></li>
        <li class="toc"><a href="#submitting-print-jobs">Submitting Print Jobs</a></li>
        <li class="toc"><a href="#further-reading">Further Reading</a><ul>
        </ul></li>
      </ul></li>
      <li class="toc"><a href="#appendix-a-quick-reference">Appendix A: Quick Reference</a><ul>
        <li class="toc"><a href="#common-operations">Common Operations</a></li>
        <li class="toc"><a href="#common-document-formats">Common Document Formats</a></li>
        <li class="toc"><a href="#common-job-attributes">Common Job Attributes</a></li>
        <li class="toc"><a href="#common-printer-attributes">Common Printer Attributes</a></li>
        <li class="toc"><a href="#standards">Standards</a></li>
      </ul></li>
	 </ul>
	<h1 id="chapter-1-introduction">Chapter 1: Introduction</h1>
	<h2 id="what-is-ipp">What is IPP?</h2>
	<p>The Internet Printing Protocol (&quot;IPP&quot;) is a secure application level protocol used for network printing. The protocol allows a Client to inquire about capabilities of and defaults for a Printer (supported media sizes, two-sided printing, etc.), inquire about the state of the Printer (paper out/jam, low ink/toner, etc.), submit files for printing, and inquire about and/or cancel submitted print Jobs. IPP is supported by all modern network printers and replaces all legacy network protocols including port 9100 printing and LPD/lpr.</p>
	<p>IPP is widely implemented in software as well, including the following open source projects:</p>
	<ul>
	<li><a href="https://www.cups.org/">CUPS</a></li>
	<li><a href="https://code.google.com/archive/p/jspi/">Java IPP Client Implementation</a></li>
	<li><a href="https://github.com/williamkapke/ipp">Javascript IPP Client Implementation</a></li>
	<li><a href="http://www.pykota.com/software/pkipplib/">Python IPP Client Implementation</a></li>
	<li><a href="https://istopwg.github.io/ippsample">PWG IPP Sample Code</a></li>
</ul>
	<h2 id="ipp-overview">IPP Overview</h2>
	<p>The IPP architecture defines an abstract, hierarchical data model that provides information about the printing process and the print jobs and capabilities of the printer. It also defines operations with common semantics (business logic) for working with the objects in this data model. Because the semantics of IPP are followed by all printers, the client (software) does not need to know the internal details of the printer (hardware).</p>
	<p>IPP uses HTTP as its transport protocol. Each IPP request is a HTTP POST with an IPP message (and print file, if any) in the request message body. The corresponding IPP response is returned in the POST response message body. The IPP message itself uses a simple binary encoding that is described in the <a href="#ipp-message-encoding">next section</a>. HTTP connections can be unencrypted, upgraded to TLS encryption using an HTTP OPTIONS request, or encrypted immediately (HTTPS). HTTP POST requests can also be authenticated using any of the usual HTTP mechanisms like Basic (username and password).</p>
	<blockquote>
	<p>Note: Legacy network protocols do not support authentication, authorization, or privacy (encryption).</p>
</blockquote>
	<p>Printers are identified using Universal Resource Identifiers (&quot;URIs&quot;) with the &quot;ipp&quot; or &quot;ipps&quot; scheme, for example:</p>
	   <pre><code>ipp://printer.example.com/ipp/print
</code><code>ipps://printer2.example.com:443/ipp/print
</code><code>ipps://server.example.com/ipp/print/printer3
</code></pre>
	<p>These are mapped to &quot;http&quot; and &quot;https&quot; URLs, with a default port number of 631 for IPP. For example, the previous IPP URIs would be mapped to:</p>
	   <pre><code>http://printer.example.com:631/ipp/print
</code><code>https://printer2.example.com/ipp/print
</code><code>https://server.example.com:631/ipp/print/printer3
</code></pre>
	<blockquote>
	<p>The resource path &quot;/ipp/print&quot; is commonly used by IPP printers, however there is no hard requirement to follow that convention and older IPP printers used a variety of different locations. Consult your printer documentation or the printer's Bonjour registration information to determine the proper hostname, port number, and path to use for your printer.</p>
</blockquote>
	<p>Print jobs are identified using the printer's URI and a job number that is unique to that printer.</p>
	<h2 id="ipp-message-encoding">IPP Message Encoding</h2>
	<p>IPP messages use a common format for both requests (from the client to the printer) and responses (from the printer to the client). Each IPP message starts with a version number (2.0 is the most common), an operation (request) or status (response) code, a request number, and a list of attributes. Attributes are named and have strongly typed values like integers, keywords, names, and URIs. Attributes are also placed in groups according to their usage - the operation group for attributes used for the operation request or response, the job group for print job attributes, and so forth.</p>
	<p>The first two attributes in an IPP message are always &quot;attributes-charset&quot;, which defines the character set to use for all name and text strings, and &quot;attributes-natural-language&quot;, which defines the default language (&quot;en&quot; for English, &quot;fr&quot; for French, &quot;ja&quot; for Japanese, etc.) for those strings.</p>
	<p>The next attributes in a request are the printer's URI (&quot;printer-uri&quot;) and, if the request is targeting a print job, the job's ID number (&quot;job-id&quot;).</p>
	<p>Most requests include the name of the user that is submitting the request (&quot;requesting-user-name&quot;).</p>
	<p>A request containing an attached print file includes the MIME media type for the file (&quot;document-format&quot;). The media type is 'text/plain' for text files, 'image/jpeg' for JPEG files, 'application/pdf' for PDF files, etc.</p>
	<p>The following example encodes a Print-Job request using the <code>ipptool</code> test file format:</p>
	   <pre><code>{
</code><code>    VERSION 2.0
</code><code>    OPERATION Print-Job
</code><code>    REQUEST-ID 42
</code><code>
</code><code>    GROUP operation-attributes-tag
</code><code>    ATTR charset &quot;attributes-charset&quot; &quot;utf-8&quot;
</code><code>    ATTR naturalLanguage &quot;attributes-natural-language&quot; &quot;en&quot;
</code><code>    ATTR uri &quot;printer-uri&quot; &quot;ipp://printer.example.com/ipp/print&quot;
</code><code>    ATTR name &quot;requesting-user-name&quot; &quot;John Doe&quot;
</code><code>    ATTR mimeMediaType &quot;document-format&quot; &quot;text/plain&quot;
</code><code>    FILE &quot;testfile.txt&quot;
</code><code>}
</code></pre>
	<p>The same request using the CUPS API would look like the following:</p>
	   <pre><code>#include &lt;cups/cups.h&gt;
</code><code>
</code><code>...
</code><code>
</code><code>http_t *http;
</code><code>ipp_t *request, *response;
</code><code>
</code><code>http = httpConnect2(&quot;printer.example.com&quot;, 631, NULL, AF_UNSPEC, HTTP_ENCRYPTION_IF_REQUESTED, 1, 30000, NULL);
</code><code>
</code><code>request = ippNewRequest(IPP_OP_PRINT_JOB);
</code><code>ippAddString(request, IPP_TAG_OPERATION, IPP_TAG_URI, &quot;printer-uri&quot;, NULL, &quot;ipp://printer.example.com/ipp/print&quot;);
</code><code>ippAddString(request, IPP_TAG_OPERATION, IPP_TAG_NAME, &quot;requesting-user-name&quot;, NULL, &quot;John Doe&quot;);
</code><code>ippAddString(request, IPP_TAG_OPERATION, IPP_TAG_MIMETYPE, &quot;document-format&quot;, NULL, &quot;text/plain&quot;);
</code><code>
</code><code>response = cupsDoFileRequest(http, request, &quot;/ipp/print&quot;, &quot;testfile.txt&quot;);
</code><code>
</code><code>ipp_attribute_t *attr;
</code><code>const char *name;
</code><code>char value[2048];
</code><code>
</code><code>for (attr = ippFirstAttribute(response); attr; attr = ippNextAttribute(response))
</code><code>{
</code><code>  name = ippGetName(attr);
</code><code>
</code><code>  if (name)
</code><code>  {
</code><code>    ippAttributeString(attr, name, sizeof(name));
</code><code>    printf(&quot;%s=%s\n&quot;, name, value);
</code><code>  }
</code><code>}
</code></pre>
	<p>And this is how you'd send a Print-Job request using the nodejs API:</p>
	   <pre><code>var ipp = require(&quot;ipp&quot;);
</code><code>var printer = ipp.Printer(&quot;http://printer.example.com:631/ipp/print&quot;);
</code><code>var fs = require(&quot;fs&quot;);
</code><code>var document;
</code><code>
</code><code>fs.readFile(&quot;testfile.txt&quot;, function(err, data) {
</code><code>  if (err) throw err;
</code><code>
</code><code>  document = data;
</code><code>});
</code><code>
</code><code>var msg = {
</code><code>  &quot;operation-attributes-tag&quot;: {
</code><code>    &quot;requesting-user-name&quot;: &quot;John Doe&quot;,
</code><code>    &quot;document-format&quot;: &quot;text/plain&quot;
</code><code>  },
</code><code>  data: document;
</code><code>};
</code><code>
</code><code>printer.execute(&quot;Print-Job&quot;, msg, function(err, res) {
</code><code>        console.log(err);
</code><code>        console.log(res);
</code><code>});
</code></pre>
	<p>The response message uses the same version number, request number, character set, and natural language values as the request. A status code replaces the operation code in the initial message header - for the Print-Job operation the printer will return the 'successful-ok' status code if the print request is successful or 'server-error-printer-busy' if the printer is busy and wants you to try again at a later time.</p>
	<p>The character set and natural language values in the response are followed by operation-specific attributes. For example, the Print-Job operation returns the print job identifier (&quot;job-id&quot;) and state (&quot;job-state&quot; and &quot;job-state-reasons&quot;) attributes.</p>
	<blockquote>
	<p>You can learn more about the IPP message encoding by reading the <a href="https://tools.ietf.org/html/rfc8010">Internet Printing Protocol/1.1: Encoding and Transport</a> document.</p>
</blockquote>
	<h2 id="operations">Operations</h2>
	<p>There are literally dozens of operations defined for IPP. The following are the most commonly used and are described in the following chapters:</p>
	<ul>
	<li>Create-Job: Create a new (empty) print job.</li>
	<li>Send-Document: Add a document to a print job.</li>
	<li>Print-Job: Create a new print job with a single document.</li>
	<li>Get-Printer-Attributes: Get printer status and capabilities.</li>
	<li>Get-Jobs: Get a list of queued jobs.</li>
	<li>Get-Job-Attributes: Get job status and options.</li>
	<li>Cancel-Job: Cancel a queued job.</li>
</ul>
	<p>Clients typically use the Create-Job and Send-Document operations to submit files for printing so that these print jobs can be canceled while the document data is being transferred to the printer.</p>
	<h2 id="summary">Summary</h2>
	<p>IPP is a widely implemented and secure application level protocol used for network printing. IPP defines an abstract model for printing that allows a generic client application to communicate with any type of printer. IPP uses HTTP or HTTPS POST requests with binary encoded messages to perform a variety of printing functions. IPP supports multiple languages and file formats.</p>
	<h1 id="chapter-2-printers">Chapter 2: Printers</h1>
	<h2 id="what-are-printers">What are Printers?</h2>
	<p>Printers in IPP are an abstract object that represents a real printer, a collection of printers, or a virtual output device (for saving/emailing/publishing PDFs, etc.)</p>
	<p>Printers provide attributes that describe the <em>status</em> of the printer (it is printing something, has it run out of paper, etc.), the <em>capabilities</em> of the printer (what paper sizes are supported, can the printer reproduce color, can the printer staple the output, etc.), and <em>general</em> <em>information</em> about the printer (where the printer is located, the URL for the printer's administrative web page, etc.)</p>
	<p>Printers also manage one or more queued print jobs and provide a history of jobs that have been printed.</p>
	<h3 id="printer-status-attributes">Printer Status Attributes</h3>
	<p>Printers provide two main status attributes: &quot;printer-state&quot; and &quot;printer-state-reasons&quot;. The &quot;printer-state&quot; attribute is a number that describes the general state of the printer:</p>
	<ul>
	<li>'3': The printer is idle.</li>
	<li>'4': The printer is processing a print job.</li>
	<li>'5': The printer is stopped and requires attention.</li>
</ul>
	<p>The &quot;printer-state-reasons&quot; attribute is a list of strings that provide details about the printer's state:</p>
	<ul>
	<li>'none': Everything is super, nothing to report.</li>
	<li>'media-needed': The printer needs paper loaded.</li>
	<li>'toner-low': The printer is low on toner.</li>
	<li>'toner-empty': The printer is out of toner.</li>
	<li>'marker-supply-low': The printer is low on ink.</li>
	<li>'marker-supply-empty': The printer is out of ink.</li>
</ul>
	<p>The strings may also have a severity suffix (&quot;-error&quot;, &quot;-warning&quot;, or &quot;-report&quot;) to tell the client whether the reason prevents the printer from printing a job.</p>
	<blockquote>
	<p>Note: The <a href="https://www.iana.org/assignments/ipp-registrations/ipp-registrations.xml#ipp-registrations-4">IANA IPP registry</a> lists all of the registered strings for the &quot;printer-state-reasons&quot; attribute.</p>
</blockquote>
	<p>Many printers also provide status attributes for alerts (&quot;printer-alert&quot;), consumables (&quot;printer-supply&quot;, &quot;printer-supply-description&quot;, and &quot;printer-supply-info-uri&quot;), input trays (&quot;printer-input-tray&quot;), output trays (&quot;printer-output-tray&quot;), and so forth.</p>
	<h3 id="printer-description-attributes">Printer Description Attributes</h3>
	<p>Printers provide seven main description attributes: &quot;printer-uri-supported&quot;, &quot;uri-authentication-supported&quot;, &quot;uri-security-supported&quot;, &quot;printer-info&quot;, &quot;printer-more-info&quot;, &quot;printer-location&quot;, and &quot;printer-geo-location&quot;.</p>
	<p>The &quot;printer-uri-supported&quot; attribute lists the supported printer URI values. The &quot;uri-authentication-supported&quot; attribute lists the authorization and access control requirements for each of the supported printer URI values. Similarly, the &quot;uri-security-supported&quot; attribute lists the encryption requirements for each of the supported printer URI values.</p>
	<p>The &quot;printer-info&quot; attribute provides a textual description of the printer and often defaults to the make and model of the printer. The &quot;printer-more-info&quot; attribute provides a URL to the printer's administrative web page.</p>
	<p>The &quot;printer-location&quot; attribute provides a textual location of the printer, for example 'Second floor near the break room.'. The &quot;printer-geo-location&quot; attribute provides the GPS location of the printer, if known.</p>
	<h3 id="printer-capability-attributes">Printer Capability Attributes</h3>
	<p>Printers provide many capability attributes, including:</p>
	<ul>
	<li>&quot;ipp-features-supported&quot;: A list of IPP features that are supported.</li>
	<li>&quot;ipp-versions-supported&quot;: A list of IPP versions that are supported.</li>
	<li>&quot;operations-supported&quot;: A list of IPP operations that are supported.</li>
	<li>&quot;charset-supported&quot;: A list of character sets that are supported ('utf-8' is required.)</li>
	<li>&quot;job-creation-attributes-supported&quot;: A list of IPP attributes that are supported when submitting print jobs.</li>
	<li>&quot;document-format-supported&quot;: A list of file formats that can be printed.</li>
	<li>&quot;media-supported&quot; and &quot;media-col-database&quot;: A list of paper sizes and types that are supported.</li>
	<li>&quot;media-ready&quot; and &quot;media-col-ready&quot;: A list of paper sizes and types that are loaded.</li>
	<li>&quot;copies-supported&quot;: The maximum number of copies that can be produced.</li>
	<li>&quot;sides-supported&quot;: A list of supported one and two sided printing modes.</li>
	<li>&quot;print-quality-supported&quot;: A list of supported print qualities.</li>
	<li>&quot;print-color-mode-supported&quot;: A list of supported color printing modes.</li>
	<li>&quot;print-scaling-supported&quot;: A list of supported scaling modes.</li>
	<li>&quot;printer-resolution-supported&quot;: A list of supported print resolutions.</li>
	<li>&quot;page-ranges-supported&quot;: Specifies whether page ranges are supported.</li>
	<li>&quot;finishings-supported&quot; and &quot;finishings-col-database&quot;: A list of finishing processes (staple, punch, fold, etc.) that are supported.</li>
	<li>&quot;finishings-ready&quot; and &quot;finishings-col-ready&quot;: A list of finishing processes that can be requested without stopping the printer.</li>
</ul>
	<h2 id="querying-the-printer-attributes">Querying the Printer Attributes</h2>
	<p>The Get-Printer-Attributes operation is used to query any of the printer attributes mentioned previously. The following <code>ipptool</code> test will report the current printer attribute values:</p>
	   <pre><code>{
</code><code>    VERSION 2.0
</code><code>    OPERATION Get-Printer-Attributes
</code><code>
</code><code>    GROUP operation-attributes-tag
</code><code>    ATTR charset &quot;attributes-charset&quot; &quot;utf-8&quot;
</code><code>    ATTR naturalLanguage &quot;attributes-natural-language&quot; &quot;en&quot;
</code><code>    ATTR uri &quot;printer-uri&quot; &quot;ipp://printer.example.com/ipp/print&quot;
</code><code>    ATTR name &quot;requesting-user-name&quot; &quot;John Doe&quot;
</code><code>}
</code></pre>
	<p>The same request using the CUPS API would look like the following:</p>
	   <pre><code>#include &lt;cups/cups.h&gt;
</code><code>
</code><code>...
</code><code>
</code><code>http_t *http;
</code><code>ipp_t *request, *response;
</code><code>
</code><code>http = httpConnect2(&quot;printer.example.com&quot;, 631, NULL, AF_UNSPEC, HTTP_ENCRYPTION_IF_REQUESTED, 1, 30000, NULL);
</code><code>
</code><code>request = ippNewRequest(IPP_OP_GET_PRINTER_ATTRIBUTES);
</code><code>ippAddString(request, IPP_TAG_OPERATION, IPP_TAG_URI, &quot;printer-uri&quot;, NULL, &quot;ipp://printer.example.com/ipp/print&quot;);
</code><code>ippAddString(request, IPP_TAG_OPERATION, IPP_TAG_NAME, &quot;requesting-user-name&quot;, NULL, &quot;John Doe&quot;);
</code><code>
</code><code>response = cupsDoRequest(http, request, &quot;/ipp/print&quot;);
</code><code>
</code><code>ipp_attribute_t *attr;
</code><code>const char *name;
</code><code>char value[2048];
</code><code>
</code><code>for (attr = ippFirstAttribute(response); attr; attr = ippNextAttribute(response))
</code><code>{
</code><code>  name = ippGetName(attr);
</code><code>
</code><code>  if (name)
</code><code>  {
</code><code>    ippAttributeString(attr, name, sizeof(name));
</code><code>    printf(&quot;%s=%s\n&quot;, name, value);
</code><code>  }
</code><code>}
</code></pre>
	<p>And this is how you'd query a printer using the nodejs API:</p>
	   <pre><code>var ipp = require(&quot;ipp&quot;);
</code><code>var printer = ipp.Printer(&quot;http://printer.example.com:631/ipp/print&quot;);
</code><code>
</code><code>var msg = {
</code><code>  &quot;operation-attributes-tag&quot;: {
</code><code>    &quot;requesting-user-name&quot;: &quot;John Doe&quot;,
</code><code>  }
</code><code>};
</code><code>
</code><code>printer.execute(&quot;Get-Printer-Attributes&quot;, msg, function(err, res) {
</code><code>        console.log(err);
</code><code>        console.log(res);
</code><code>});
</code></pre>
	<h2 id="summary">Summary</h2>
	<p>IPP printers track the state, capabilities, administrative information, and print jobs of one or more real or virtual printers. IPP printers provide many attributes which are queried using the Get-Printer-Attributes request.</p>
	<h1 id="chapter-3-print-jobs">Chapter 3: Print Jobs</h1>
	<h2 id="what-are-print-jobs">What are Print Jobs?</h2>
	<p>Print jobs in IPP are an abstract object that represents work to be done by a printer - typically printing or faxing a document.</p>
	<p>Print jobs provide attributes that describe the <em>status</em> of the job (pending, held for some reason, printing, completed, etc.), <em>general</em> <em>information</em> about the job (the job's owner, name, submission time, etc.) the <em>job</em> <em>ticket</em> (print options), and the <em>job</em> <em>receipt</em> (what print options were used, how many pages were printed, when the job was printed, etc.)</p>
	<p>Print jobs contain zero or more documents that are processed (printed, faxed, etc.) as a single work item, although most printers only support a single document per job so the multiple-document capability of IPP is rarely used.</p>
	<blockquote>
	<p>Note: A print job with no documents cannot be processed and will (eventually) be aborted so that other jobs can be processed.</p>
</blockquote>
	<h3 id="job-status-attributes">Job Status Attributes</h3>
	<p>Jobs provide five main status attributes: &quot;job-id&quot;, &quot;job-originating-user-name&quot;, &quot;job-printer-uri&quot;, &quot;job-state&quot;, and &quot;job-state-reasons&quot;. The &quot;job-id&quot; and &quot;job-printer-uri&quot; attributes provide an identifying (integer) number and the printer that will be processing the job. The &quot;job-originating-user-name&quot; attribute provides the name of the submitter, e.g., &quot;Bob Smith&quot;. The &quot;job-originating-user-name&quot; and &quot;job-printer-uri&quot; attributes are provided in the job creation request (Create-Job or Print-Job), while the printer generates a unique &quot;job-id&quot; for each job, starting at 1.</p>
	<p>The &quot;job-state&quot; attribute is a number that describes the general state of the job:</p>
	<ul>
	<li>'3': The job is queued and pending.</li>
	<li>'4': The job has been held, either because the user asked for it or because a passcode needs to be entered on the printer (&quot;PIN printing&quot;).</li>
	<li>'5': The job is being processed (printed, faxed, etc.)</li>
	<li>'6': The job is stopped (out of paper, etc.)</li>
	<li>'7': The job was canceled by the user.</li>
	<li>'8': The job was aborted by the printer.</li>
	<li>'9': The job completed successfully.</li>
</ul>
	<p>The &quot;job-state-reasons&quot; attribute is a list of strings that provide details about the job's state:</p>
	<ul>
	<li>'none': Everything is super, nothing to report.</li>
	<li>'document-format-error': The document could not be printed due to a file format error.</li>
	<li>'document-unprintable-error': The document could not be printed for other reasons (too complex, out of memory, etc.)</li>
	<li>'job-incoming': The job is being received from the client.</li>
	<li>'job-password-wait': The printer is waiting for the user to enter the passcode for the job.</li>
</ul>
	<blockquote>
	<p>Note: The <a href="https://www.iana.org/assignments/ipp-registrations/ipp-registrations.xml#ipp-registrations-4">IANA IPP registry</a> lists all of the registered strings for the &quot;job-state-reasons&quot; attribute.</p>
</blockquote>
	<p>Page counts are recorded in the following attributes:</p>
	<ul>
	<li>&quot;job-impressions-completed&quot;: The number of sides/images that were printed or sent.</li>
	<li>&quot;job-media-sheets-completed&quot;: The number of sheets that were printed.</li>
	<li>&quot;job-pages-completed&quot;: The number of document pages that were processed.</li>
</ul>
	<p>Some printers also record a read-only job receipt in attributes named &quot;xxx-actual&quot; for each job ticket attribute, for example &quot;copies-actual&quot;, &quot;media-actual&quot;, and so forth.</p>
	<h3 id="job-description-attributes">Job Description Attributes</h3>
	<p>Jobs provide many descriptive attributes, including the job's name (&quot;job-name&quot;) and page counts (&quot;job-impressions&quot;, &quot;job-media-sheets&quot;, and &quot;job-pages&quot;) which are provided in the job creation request (Create-Job or Print-Job).</p>
	<h3 id="job-template-attributes">Job Template Attributes</h3>
	<p>The job ticket (&quot;copies&quot;, &quot;media&quot;, etc.),</p>
	<h2 id="documents">Documents</h2>
	<ul>
	<li>Standard formats: PDF, PWG Raster, JPEG</li>
	<li>Historical formats: PostScript, PCL, other vendor PDLs</li>
</ul>
	<h2 id="submitting-print-jobs">Submitting Print Jobs</h2>
	<ul>
	<li>Using Create-Job + Send-Document</li>
	<li>When to use media vs. media-col</li>
	<li>When to use finishings vs. finishings-col</li>
	<li>ipptool examples</li>
	<li>CUPS API examples</li>
	<li>Node.js examples</li>
</ul>
	<h2 id="further-reading">Further Reading</h2>
	<p>Links to additional reading - IIG 2, etc.</p>
	<h1 id="appendix-a-quick-reference">Appendix A: Quick Reference</h1>
	<h2 id="common-operations">Common Operations</h2>
	<p>The following table lists the common IPP operations (all defined in <a href="https://tools.ietf.org/html/rfc8011">RFC 8011</a>) and the commonly-used attributes. Each request always starts with the following three attributes:</p>
	<ul>
	<li>&quot;attributes-charset (charset)&quot;: Usually &quot;utf-8&quot;.</li>
	<li>&quot;attributes-natural-language (naturalLanguage)&quot;: Often just &quot;en&quot;, the format is either &quot;ll&quot; or &quot;ll-cc&quot; where &quot;ll&quot; is the two-letter language code and &quot;cc&quot; is the country/region code.</li>
	<li>&quot;printer-uri (uri)&quot;: Usually &quot;ipp://<em>address</em>/ipp/print&quot; or &quot;ipps://<em>address</em>/ipp/print&quot;.</li>
</ul>
	<blockquote>
	<p>Note: The syntax uses the standard IPP data types. Except for Job attributes, all attributes are in the operation group. The &quot;document-format&quot; attribute is optional but recommended.</p>
</blockquote>
	<table>	<thead>	<tr>	<th> Operation</th>
	<th> Required Attributes (syntax)</th>
	<th> Optional Attributes (syntax)</th>
</tr>
</thead>
	<tbody>	<tr>	<td> Cancel-Job</td>
	<td> job-id (integer), requesting-user-name (name)</td>
	<td></td>
</tr>
	<tr>	<td> Create-Job</td>
	<td> requesting-user-name (name), job-name (name)</td>
	<td> <a href="#common-job-attributes">Job Attributes</a></td>
</tr>
	<tr>	<td> Get-Job-Attributes</td>
	<td> job-id (integer), requesting-user-name (name)</td>
	<td> requested-attributes (1setOf keyword)</td>
</tr>
	<tr>	<td> Get-Jobs</td>
	<td> requesting-user-name (name)</td>
	<td> my-jobs (boolean), requested-attributes (1setOf keyword), which-jobs (keyword)</td>
</tr>
	<tr>	<td> Get-Printer-Attributes</td>
	<td></td>
	<td> document-format (mimeMediaType), requested-attributes (1setOf keyword)</td>
</tr>
	<tr>	<td> Print-Job</td>
	<td> requesting-user-name (name), job-name (name)</td>
	<td> <a href="#common-job-attributes">Job Attributes</a></td>
</tr>
	<tr>	<td> Send-Document</td>
	<td> job-id (integer), requesting-user-name (name)</td>
	<td> document-format (mimeMediaType), document-name (name)</td>
</tr>
</tbody>
</table>
	<h2 id="common-document-formats">Common Document Formats</h2>
	<p>The &quot;document-format&quot; attribute specifies the format of a print file. The following is a list of common formats used for printing:</p>
	<ul>
	<li>&quot;application/pdf&quot;: Portable Document Format (PDF) files.</li>
	<li>&quot;application/postscript&quot;: Adobe PostScript files (legacy).</li>
	<li>&quot;application/vnd.hp-pcl&quot;: HP Page Control Language (PCL) files (legacy).</li>
	<li>&quot;image/jpeg&quot;: JPEG images.</li>
	<li>&quot;image/pwg-raster&quot;: PWG Raster Format files.</li>
	<li>&quot;image/urf&quot;: Apple Raster files (AirPrint).</li>
	<li>&quot;text/plain&quot;: Plain (ASCII) text with CR LF line endings (legacy).</li>
</ul>
	<h2 id="common-job-attributes">Common Job Attributes</h2>
	<p>The following table lists the common Job attributes that are supported by most IPP printers in the Create-Job and Print-Job operations. You can query the corresponding Printer attributes using the Get-Printer-Attributes operation, just remember to send a &quot;document-format (mimeMediaType)&quot; attribute to get the values for the file format you are using.</p>
	<blockquote>
	<p>Note: The syntax uses the standard IPP data types. A &quot;1setOf something&quot; is an array of one or more values. The &quot;finishings-ready&quot; and &quot;media-ready&quot; Printer attributes should be used when available, otherwise use the &quot;finishings-supported&quot; and &quot;media-supported&quot; attributes. Similarly, the &quot;finishings-col-ready&quot; and &quot;media-col-ready&quot; Printer attributes should be used when available, otherwise use the &quot;finishings-col-database&quot; and &quot;media-col-database&quot; attributes.</p>
</blockquote>
	<table>	<thead>	<tr>	<th> Job Attribute (syntax)</th>
	<th> Printer Attribute (Syntax)</th>
	<th> Standard</th>
</tr>
</thead>
	<tbody>	<tr>	<td> copies (integer)</td>
	<td> copies-supported (integer)</td>
	<td> <a href="https://tools.ietf.org/html/rfc8011">RFC 8011</a></td>
</tr>
	<tr>	<td> finishings (1setOf enum)</td>
	<td> finishings-ready (1setOf enum)</td>
	<td> <a href="https://ftp.pwg.org/pub/pwg/candidates/cs-ippfinishings21-20170217-5100.1.pdf">PWG 5100.1</a></td>
</tr>
	<tr>	<td> finishings-col (1setOf collection)</td>
	<td> finishings-col-ready (1setOf collection)</td>
	<td> <a href="https://ftp.pwg.org/pub/pwg/candidates/cs-ippfinishings21-20170217-5100.1.pdf">PWG 5100.1</a></td>
</tr>
	<tr>	<td> media (keyword)</td>
	<td> media-ready (1setOf keyword)</td>
	<td> <a href="https://tools.ietf.org/html/rfc8011">RFC 8011</a></td>
</tr>
	<tr>	<td> media-col (collection)</td>
	<td> media-col-ready (1setOf collection)</td>
	<td> <a href="https://ftp.pwg.org/pub/pwg/candidates/cs-ippprodprint10-20010212-5100.3.pdf">PWG 5100.3</a></td>
</tr>
	<tr>	<td> output-bin (keyword)</td>
	<td> output-bin-supported (1setOf keyword)</td>
	<td> <a href="https://ftp.pwg.org/pub/pwg/candidates/cs-ippoutputbin10-20010207-5100.2.pdf">PWG 5100.2</a></td>
</tr>
	<tr>	<td> page-ranges (rangeOfInteger)</td>
	<td> page-ranges-supported (boolean)</td>
	<td> <a href="https://tools.ietf.org/html/rfc8011">RFC 8011</a></td>
</tr>
	<tr>	<td> print-color-mode (keyword)</td>
	<td> print-color-mode-supported (1setOf keyword)</td>
	<td> <a href="https://ftp.pwg.org/pub/pwg/candidates/cs-ippjobprinterext3v10-20120727-5100.13.pdf">PWG 5100.13</a></td>
</tr>
	<tr>	<td> print-quality (enum)</td>
	<td> print-quality-supported (1setOf enum)</td>
	<td> <a href="https://tools.ietf.org/html/rfc8011">RFC 8011</a></td>
</tr>
	<tr>	<td> print-scaling (keyword)</td>
	<td> print-scaling-supported (1setOf keyword)</td>
	<td> <a href="https://ftp.pwg.org/pub/pwg/candidates/cs-ippjobprinterext3v10-20120727-5100.13.pdf">PWG 5100.13</a></td>
</tr>
	<tr>	<td> printer-resolution (resolution)</td>
	<td> printer-resolution-supported (1setOf resolution)</td>
	<td> <a href="https://tools.ietf.org/html/rfc8011">RFC 8011</a></td>
</tr>
	<tr>	<td> sides (keyword)</td>
	<td> sides-supported (1setOf keyword)</td>
	<td> <a href="https://tools.ietf.org/html/rfc8011">RFC 8011</a></td>
</tr>
</tbody>
</table>
	<h2 id="common-printer-attributes">Common Printer Attributes</h2>
	<p>The following table lists the common Printer attributes that are supported by most IPP printers. You can query them using the Get-Printer-Attributes operation.</p>
	<blockquote>
	<p>Note: The syntax uses the standard IPP data types. A &quot;1setOf something&quot; is an array of one or more values.</p>
</blockquote>
	<table>	<thead>	<tr>	<th> Printer Attribute (Syntax)</th>
	<th> Standard</th>
</tr>
</thead>
	<tbody>	<tr>	<td> document-format-supported (1setOf mimeMediaType)</td>
	<td> <a href="https://tools.ietf.org/html/rfc8011">RFC 8011</a></td>
</tr>
	<tr>	<td> ipp-features-supported (1setOf keyword)</td>
	<td> <a href="https://ftp.pwg.org/pub/pwg/candidates/cs-ippjobprinterext3v10-20120727-5100.13.pdf">PWG 5100.13</a></td>
</tr>
	<tr>	<td> ipp-versions-supported (1setOf keyword)</td>
	<td> <a href="https://tools.ietf.org/html/rfc8011">RFC 8011</a></td>
</tr>
	<tr>	<td> job-creation-attributes-supported (1setOf keyword)</td>
	<td> <a href="https://ftp.pwg.org/pub/pwg/candidates/cs-ippjobprinterext10-20101030-5100.11.pdf">PWG 5100.11</a></td>
</tr>
	<tr>	<td> operations-supported (1setOf enum)</td>
	<td> <a href="https://tools.ietf.org/html/rfc8011">RFC 8011</a></td>
</tr>
	<tr>	<td> printer-alert (1setOf octetString)</td>
	<td> <a href="https://ftp.pwg.org/pub/pwg/candidates/cs-ippstate10-20090731-5100.9.pdf">PWG 5100.9</a></td>
</tr>
	<tr>	<td> printer-alert-description (1setOf text)</td>
	<td> <a href="https://ftp.pwg.org/pub/pwg/candidates/cs-ippstate10-20090731-5100.9.pdf">PWG 5100.9</a></td>
</tr>
	<tr>	<td> printer-geo-location (uri)</td>
	<td> <a href="https://ftp.pwg.org/pub/pwg/candidates/cs-ippjobprinterext3v10-20120727-5100.13.pdf">PWG 5100.13</a></td>
</tr>
	<tr>	<td> printer-info (text)</td>
	<td> <a href="https://tools.ietf.org/html/rfc8011">RFC 8011</a></td>
</tr>
	<tr>	<td> printer-input-tray (1setOf octetString)</td>
	<td> <a href="https://ftp.pwg.org/pub/pwg/candidates/cs-ippjobprinterext3v10-20120727-5100.13.pdf">PWG 5100.13</a></td>
</tr>
	<tr>	<td> printer-is-accepting-jobs (boolean)</td>
	<td> <a href="https://tools.ietf.org/html/rfc8011">RFC 8011</a></td>
</tr>
	<tr>	<td> printer-location (text)</td>
	<td> <a href="https://tools.ietf.org/html/rfc8011">RFC 8011</a></td>
</tr>
	<tr>	<td> printer-make-and-model (text)</td>
	<td> <a href="https://tools.ietf.org/html/rfc8011">RFC 8011</a></td>
</tr>
	<tr>	<td> printer-more-info (uri)</td>
	<td> <a href="https://tools.ietf.org/html/rfc8011">RFC 8011</a></td>
</tr>
	<tr>	<td> printer-name (name)</td>
	<td> <a href="https://tools.ietf.org/html/rfc8011">RFC 8011</a></td>
</tr>
	<tr>	<td> printer-output-tray (1setOf octetString)</td>
	<td> <a href="https://ftp.pwg.org/pub/pwg/candidates/cs-ippjobprinterext3v10-20120727-5100.13.pdf">PWG 5100.13</a></td>
</tr>
	<tr>	<td> printer-state (enum)</td>
	<td> <a href="https://tools.ietf.org/html/rfc8011">RFC 8011</a></td>
</tr>
	<tr>	<td> printer-state-reasons (1setOf keyword)</td>
	<td> <a href="https://tools.ietf.org/html/rfc8011">RFC 8011</a></td>
</tr>
	<tr>	<td> printer-strings-languages-supported (1setOf naturalLanguage)</td>
	<td> <a href="https://ftp.pwg.org/pub/pwg/candidates/cs-ippjobprinterext3v10-20120727-5100.13.pdf">PWG 5100.13</a></td>
</tr>
	<tr>	<td> printer-strings-uri (uri)</td>
	<td> <a href="https://ftp.pwg.org/pub/pwg/candidates/cs-ippjobprinterext3v10-20120727-5100.13.pdf">PWG 5100.13</a></td>
</tr>
	<tr>	<td> printer-supply (1setOf octetString)</td>
	<td> <a href="https://ftp.pwg.org/pub/pwg/candidates/cs-ippjobprinterext3v10-20120727-5100.13.pdf">PWG 5100.13</a></td>
</tr>
	<tr>	<td> printer-supply-description (1setOf text)</td>
	<td> <a href="https://ftp.pwg.org/pub/pwg/candidates/cs-ippjobprinterext3v10-20120727-5100.13.pdf">PWG 5100.13</a></td>
</tr>
	<tr>	<td> printer-supply-info-uri (uri)</td>
	<td> <a href="https://ftp.pwg.org/pub/pwg/candidates/cs-ippjobprinterext3v10-20120727-5100.13.pdf">PWG 5100.13</a></td>
</tr>
	<tr>	<td> printer-uri-supported (1setOf uri)</td>
	<td> <a href="https://tools.ietf.org/html/rfc8011">RFC 8011</a></td>
</tr>
	<tr>	<td> pwg-raster-document-resolution-supported (1setOf resolution)</td>
	<td> <a href="https://ftp.pwg.org/pub/pwg/candidates/cs-ippraster10-20120420-5102.4.pdf">PWG 5102.4</a></td>
</tr>
	<tr>	<td> pwg-raster-document-sheet-back (keyword)</td>
	<td> <a href="https://ftp.pwg.org/pub/pwg/candidates/cs-ippraster10-20120420-5102.4.pdf">PWG 5102.4</a></td>
</tr>
	<tr>	<td> pwg-raster-document-type-supported (1setOf keyword)</td>
	<td> <a href="https://ftp.pwg.org/pub/pwg/candidates/cs-ippraster10-20120420-5102.4.pdf">PWG 5102.4</a></td>
</tr>
	<tr>	<td> uri-authentication-supported (1setOf keyword)</td>
	<td> <a href="https://tools.ietf.org/html/rfc8011">RFC 8011</a></td>
</tr>
	<tr>	<td> uri-security-supported (1setOf keyword)</td>
	<td> <a href="https://tools.ietf.org/html/rfc8011">RFC 8011</a></td>
</tr>
</tbody>
</table>
	<h2 id="standards">Standards</h2>
	<p>The <a href="https://www.iana.org/assignments/ipp-registrations">IANA IPP Registry</a> provides a list of all IPP attributes, values, operations, and status codes with links to the corresponding standards.</p>
	<p>These are the core Internet Printing Protocol standards:</p>
	<ul>
	<li><a href="https://ftp.pwg.org/pub/pwg/candidates/cs-ippeve10-20130128-5100.14.pdf">IPP Everywhere (PWG 5100.14)</a></li>
	<li><a href="https://ftp.pwg.org/pub/pwg/standards/std-ipp20-20151030-5100.12.pdf">IPP 2.0, 2.1, and 2.2 (PWG 5100.12)</a></li>
	<li>IPP 1.1 - <a href="https://tools.ietf.org/html/rfc8010">Encoding and Transport (RFC 8010)</a> - <a href="https://tools.ietf.org/html/rfc8011">Model and Semantics (RFC 8011)</a></li>
	<li><a href="https://ftp.pwg.org/pub/pwg/candidates/cs-ippig20-20150821-5100.19.pdf">IPP Implementor's Guide (PWG 5100.19)</a></li>
</ul>
	<p>These are the standards for media naming and the common file formats:</p>
	<ul>
	<li><a href="https://ftp.pwg.org/pub/pwg/candidates/cs-pwgmsn20-20130328-5101.1.pdf">Media Names (PWG 5101.1)</a></li>
	<li><a href="http://wwwimages.adobe.com/content/dam/Adobe/en/devnet/pdf/pdfs/PDF32000_2008.pdf">Portable Document Format (ISO 32000-1)</a></li>
	<li><a href="https://ftp.pwg.org/pub/pwg/candidates/cs-ippraster10-20120420-5102.4.pdf">PWG Raster Format (PWG 5102.4)</a></li>
</ul>
	<p>These are the Internet Printing Protocol standards that define how to support specific printer features:</p>
	<ul>
	<li><a href="https://ftp.pwg.org/pub/pwg/candidates/cs-ippstate10-20090731-5100.9.pdf">Alerts (PWG 5100.9)</a></li>
	<li><a href="https://ftp.pwg.org/pub/pwg/candidates/cs-ippinfra10-20150619-5100.18.pdf">Cloud Printing (PWG 5100.18)</a></li>
	<li>Extended Options - <a href="https://ftp.pwg.org/pub/pwg/candidates/cs-ippjobprinterext10-20101030-5100.11.pdf">Set 2 (PWG 5100.11)</a> - <a href="https://ftp.pwg.org/pub/pwg/candidates/cs-ippjobprinterext3v10-20120727-5100.13.pdf">Set 3 (PWG 5100.13)</a></li>
	<li><a href="https://ftp.pwg.org/pub/pwg/candidates/cs-ippfaxout10-20140618-5100.15.pdf">Fax Output (PWG 5100.15)</a></li>
	<li><a href="https://ftp.pwg.org/pub/pwg/candidates/cs-ippfinishings21-20170217-5100.1.pdf">Stapling, Folding, Punching, and Other Finishings (PWG 5100.1)</a></li>
	<li>Notifications - <a href="https://tools.ietf.org/html/rfc3995">Model (RFC 3995)</a> - <a href="https://tools.ietf.org/html/rfc3996">Get-Notifications Operation (RFC 3996)</a></li>
	<li><a href="https://ftp.pwg.org/pub/pwg/candidates/cs-ippoutputbin10-20010207-5100.2.pdf">Output Bins (PWG 5100.2)</a></li>
	<li><a href="https://ftp.pwg.org/pub/pwg/candidates/cs-ipppageoverride10-20031031-5100.6.pdf">Page Overrides (PWG 5100.6)</a></li>
	<li><a href="https://ftp.pwg.org/pub/pwg/candidates/cs-ipptrans10-20131108-5100.16.pdf">Paid Printing (PWG 5100.16)</a></li>
</ul>
	 </body>
</html>
